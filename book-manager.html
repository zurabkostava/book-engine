<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Architect - Digital Library</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Georgian:wght@300;400;700&family=Merriweather:ital,wght@0,300;0,700;1,300&display=swap" rel="stylesheet">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="https://zurabkostava.com/wp-content/uploads/2025/12/style.css?v=2.1">
</head>
<body>
<div id="digital-library-root">
    <div id="book-loader" class="hidden">
        <div class="book-animation">
            <div class="book-spine"></div>
            <div class="book-page page-1"></div>
            <div class="book-page page-2"></div>
            <div class="book-page page-3"></div>
        </div>
    </div>
    <div id="book-engine-wrapper"></div>
    <nav id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2 id="sidebar-main-title">·É°·Éê·É†·É©·Éî·Éï·Éò</h2>
            <button id="toggle-btn" class="toggle-btn"><span>&times;</span></button>
        </div>
        <ul class="chapter-list" id="chapter-list-ui"></ul>
        <div class="sidebar-controls">
            <button class="font-control-btn" id="font-size-minus">‚àí</button>
            <span class="font-display-label">FONT SIZE</span>
            <button class="font-control-btn" id="font-size-plus">+</button>
        </div>
    </nav>
    <div id="library-view" class="library-container">
        <div class="library-header">
            <h1>MY COLLECTION</h1>
            <div style="display: flex; gap: 10px;">
                <button id="admin-login-btn" style="background: #333; color: #fff;">üîí</button>
                <button id="create-new-book-btn" class="admin-only">+ New Book</button>
            </div>
        </div>
        <div id="books-grid" class="books-grid"></div>
    </div>
    <button id="edit-mode-btn" class="admin-only">‚úé Edit Book</button>
    <main id="main-content">
        <div class="site-title">
            <h1 id="site-main-title"></h1>
            <p id="site-sub-title"></p>
        </div>
        <div class="nav-toolbar">
            <button id="open-sidebar-btn" class="tool-btn" title="Menu">
                <span class="material-icons-outlined">menu</span>
            </button>
            <button id="go-to-library-icon" class="tool-btn" title="Library">
                <span class="material-icons-outlined">local_library</span>
            </button>
            <button id="lang-switcher-btn" class="tool-btn text-btn">KA</button>
            <button id="theme-toggle-btn" class="tool-btn" title="Theme">
                <span class="material-icons-outlined">light_mode</span>
            </button>
        </div>
        <div id="measure-container"></div>
        <div class="book-scene"><div id="book" class="book"></div></div>
    </main>
    <div id="editor-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header"><h3>Book Editor</h3><button id="close-modal">&times;</button></div>
            <div class="modal-body">
                <div class="pages-manager">
                    <div class="settings-trigger" id="open-settings-btn">‚öô Book Settings</div>
                    <div class="manager-header">Chapters</div>
                    <ul id="editable-pages-list"></ul>
                    <div class="manager-actions">
                        <button id="add-page-btn">+ Add Chapter</button>
                        <button id="reset-book-btn" style="background:#d9534f;">Reset All</button>
                    </div>
                </div>
                <button id="mobile-expand-toggle" class="mobile-only">
                    <span class="material-icons-outlined">expand_less</span> </button>
                <div class="editor-area">
                    <div class="editor-lang-tabs">
                        <button class="lang-tab active" data-lang="en">ENGLISH</button>
                        <button class="lang-tab" data-lang="ka">GEORGIAN</button>
                    </div>
                    <div id="editor-loading-overlay" class="hidden">
                        <div class="editor-spinner"></div>
                    </div>
                    <div id="editor-container"></div>
                    <div id="settings-form" style="display:none;">
                        <div class="settings-header-bar">
                            <h4>Book Configuration</h4>
                            <button id="close-settings-btn" type="button">&times;</button>
                        </div>
                        <div class="settings-scroll-content">
                            <div class="form-group">
                                <label>Book Title (KA)</label>
                                <input type="text" id="input-book-title" placeholder="·Éõ·Éê·Éí: ·Éú·Éù·É•·É¢·Éò·É£·É†·Éú·Éî·Éë·Éò">
                            </div>
                            <div class="form-group">
                                <label>Subtitle (KA)</label>
                                <input type="text" id="input-book-subtitle" placeholder="·Éõ·Éê·Éí: ·Éñ·É£·É†·Éê·Éë ·Éô·Éù·É°·É¢·Éê·Éï·Éê">
                            </div>
                            <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
                            <div class="form-group">
                                <label>Book Title (EN)</label>
                                <input type="text" id="input-book-title-en" placeholder="e.g. NOCTURNES">
                            </div>
                            <div class="form-group">
                                <label>Subtitle (EN)</label>
                                <input type="text" id="input-book-subtitle-en" placeholder="e.g. by Zurab Kostava">
                            </div>
                            <div class="form-group">
                                <label>Cover Image</label>
                                <input type="file" id="input-cover-image" accept="image/*">
                                <div class="image-preview" id="cover-preview">No image selected</div>
                                <button id="remove-cover-btn" style="margin-top:10px; background:#444;">Remove Cover</button>
                            </div>
                            <div class="form-group">
                                <label>SEO Description (KA) - Hidden</label>
                                <textarea id="input-book-seo" rows="4" placeholder="·É¨·Éò·Éí·Éú·Éò·É° ·Éê·É¶·É¨·Éî·É†·Éê ·É•·Éê·É†·Éó·É£·Éö·Éê·Éì..." style="width:100%; background:#222; color:#fff; border:1px solid #333; padding:10px; margin-bottom: 10px;"></textarea>

                                <label>SEO Description (EN) - Hidden</label>
                                <textarea id="input-book-seo-en" rows="4" placeholder="Book description in English..." style="width:100%; background:#222; color:#fff; border:1px solid #333; padding:10px;"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="editor-footer">
                        <button id="save-changes-btn">Save & Re-Paginate</button>
                        <button id="unpublish-btn" class="secondary-btn" style="border-color: #d9534f; color: #d9534f; margin-right: 10px;">Unpublish</button>
                        <div id="save-status" style="margin-right: auto; color: #666; font-size: 0.8rem; font-style: italic;"></div>
                        <button id="save-draft-btn" class="secondary-btn">Save Draft</button>
                        <button id="publish-btn" class="primary-btn">Publish</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://zurabkostava.com/wp-content/uploads/2025/12/script.js?v=2.1"></script></body>
</body>
</html>
